<div class="layout-topbar">
    <a class="logo" (click)="enrutaUsuario()">
        <img alt="SICORE" [src]="logo">
    </a>

    <ul class="topbar-menu"></ul>

    <p-button styleClass="topbar-menubutton p-link" (click)="menu.toggle($event)" icon="pi pi-ellipsis-v"/>
    <p-menu appendTo="body" styleClass="w-7 md:w-60 mt-7" [model]="items" [popup]="true" #menu>
        <ng-template #submenuheader let-item>
            <span class="text-primary font-bold">{{ item.label }}</span>
        </ng-template>

        <ng-template #item let-item>
            <a pRipple class="flex items-center p-menu-item-link">
                <span [class]="item.icon"></span>
                <span class="ml-2">{{ item.label }}</span>
            </a>
        </ng-template>
    </p-menu>

    <div class="topbar-profile">
        
        <button class="topbar-profile-button p-link" type="button" pStyleClass="@next" enterFromClass="hidden" enterActiveClass="scalein" leaveToClass="hidden" leaveActiveClass="fadeout" [hideOnOutsideClick]="true">
            <span class="profile-details">
                <span class="profile-name">{{nombreUsuario}}</span>
                <span class="profile-job">{{tipoUsuario}}</span>
            </span>
            <i class="pi pi-angle-down"></i>
        </button>

        <ul class="list-none p-3 m-0 border-round shadow-2 hidden absolute surface-overlay origin-top w-full sm:w-12rem mt-2 right-0 top-auto">
            <li>
                <a (click)="descargarManual()" pRipple class="flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer">
                    <i class="pi pi-book mr-3"></i>
                    <span>Manual</span>
                </a>
                <a *ngIf="_desActivadoDFM" (click)="desActivarDMF()" pRipple class="flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer">
                    <i class="pi pi-user-minus mr-3"></i>
                    <span>Desactivar el DFM</span>
                </a>
                <a (click)="Logout()" pRipple class="flex p-2 border-round align-items-center hover:surface-hover transition-colors transition-duration-150 cursor-pointer">
                    <i class="pi pi-power-off mr-3"></i>
                    <span>Salir</span>
                </a>
            </li>
        </ul>

    </div>
</div>

<p-dialog header="Manual de Usuario" [modal]="true" [(visible)]="_mostrarManual" [contentStyle]="{ 'overflow-y' : 'hidden', 'max-height' : '70%' }">
    <pdf-viewer [src]="_urlDelPDF" [render-text]="true" [original-size]="false" style="width: 80rem; height: 50rem" [fit-to-page]="true"></pdf-viewer>
</p-dialog>